*add methods to check service availability
*rewrite discovery
*fix variable $user_input, as it is not correctly reset after each use